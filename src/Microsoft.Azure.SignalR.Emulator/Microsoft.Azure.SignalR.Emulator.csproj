<Project Sdk="Microsoft.NET.Sdk.Web">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>netcoreapp3.1</TargetFramework>

    <PackAsTool>true</PackAsTool>
    <ToolCommandName>asrs-emulator</ToolCommandName>
    <PackageOutputPath>$(MSBuildThisFileDirectory)..\..\artifacts\build</PackageOutputPath>
    <IsPackable>true</IsPackable>
    <VersionPrefix>1.0.0</VersionPrefix>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.AspNetCore.SignalR.Protocols.MessagePack" Version="$(MicrosoftAspNetCoreSignalRProtocolsMessagePackPackageVersion)" />
    <PackageReference Include="Microsoft.AspNetCore.Mvc.NewtonsoftJson" Version="$(MicrosoftAspNetCoreMvcNewtonsoftJsonPackageVersion)" />
    <PackageReference Include="Microsoft.AspNetCore.Authentication.JwtBearer" Version="$(MicrosoftAspNetCoreAuthenticationJwtBearerPackageVersion)" />
  </ItemGroup>

  <ItemGroup>
    <SignedPackageFile Include="$(PublishDir)Microsoft.Azure.SignalR.Emulator.dll" Certificate="$(AssemblySigningCertName)" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)MessagePack.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.AspNetCore.Authentication.JwtBearer.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.AspNetCore.Connections.Abstractions.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.AspNetCore.Http.Features.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.AspNetCore.JsonPatch.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.AspNetCore.Mvc.NewtonsoftJson.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.AspNetCore.SignalR.Common.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.AspNetCore.SignalR.Protocols.MessagePack.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.Extensions.DependencyInjection.Abstractions.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.Extensions.Options.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.Extensions.Primitives.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.IdentityModel.JsonWebTokens.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.Extensions.Primitives.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.IdentityModel.Logging.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.IdentityModel.Protocols.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.IdentityModel.Protocols.OpenIdConnect.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Microsoft.IdentityModel.Tokens.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Newtonsoft.Json.Bson.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)Newtonsoft.Json.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)System.IdentityModel.Tokens.Jwt.dll" Certificate="None" Visible="false" />
    <SignedPackageFile Include="$(PublishDir)System.IO.Pipelines.dll" Certificate="None" Visible="false" />
  </ItemGroup>
</Project>
